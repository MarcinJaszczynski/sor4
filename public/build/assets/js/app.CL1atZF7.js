const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/vdom.DuX097KQ.js","assets/js/tslib.es6.B_Z_Z_Y2.js","assets/js/main.CY826GJt.js","assets/js/main.DrUTKJF9.js","assets/css/main.D9lVrORJ.css","assets/js/main.EL4LX8CA.js","assets/css/main.BA3E-W8n.css","assets/js/main.CtFRknBY.js","assets/css/main.DaAbxDcm.css","assets/js/main.C0PruKEJ.js","assets/js/main.uHczVoXp.js","assets/css/main.zNk8tqBb.css"])))=>i.map(i=>d[i]);
import{a as y}from"./vendor.B9ygI19o.js";import{S as g}from"./sortable.DJo-CWZx.js";window.axios=y;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function E(e,o,n=null){e&&g.create(e,{group:"program-points",animation:150,handle:"span",onEnd:function(a){const u=e.dataset.parentId?parseInt(e.dataset.parentId):null,l=Array.from(e.children).map(i=>i.dataset.id);o.call("updateOrder",u,l)}})}document.addEventListener("DOMContentLoaded",function(){function e(){return window.location.href.replace(/\/$/,"")+"/reorder"}function o(n){fetch(e(),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({order:n})}).then(a=>{if(!a.ok)throw new Error("Reorder failed");return a.json()}).then(()=>{window.dispatchEvent(new CustomEvent("eventProgramReordered"))}).catch(a=>{console.error(a),window.dispatchEvent(new CustomEvent("eventProgramReorderFailed",{detail:{error:a.message}}))})}document.querySelectorAll(".pp-dnd-root").forEach(function(n){n.querySelectorAll(".pp-dnd-list .pp-row");const a=n.querySelector(".pp-dnd-save");a&&a.addEventListener("click",function(){const l=Array.from(n.querySelectorAll(".pp-dnd-list .pp-row")).map((i,d)=>{const w=i.getAttribute("data-pp-id"),s=i.getAttribute("data-parent-id")||null,t=i.getAttribute("data-day")||null,r=i.getAttribute("data-order")||d;return{id:parseInt(w),parent_id:s?parseInt(s):null,day:t?parseInt(t):null,order:parseInt(r)}});window.livewire?window.livewire.emit("saveOrderFromDnDPayload",l):o(l)}),n.querySelectorAll(".pp-move-up").forEach(function(u){u.addEventListener("click",function(l){const d=l.target.closest(".pp-row")?.getAttribute("data-pp-id");window.livewire&&window.livewire.emit("callMethod","moveUp",parseInt(d))})}),n.querySelectorAll(".pp-move-down").forEach(function(u){u.addEventListener("click",function(l){const d=l.target.closest(".pp-row")?.getAttribute("data-pp-id");window.livewire&&window.livewire.emit("callMethod","moveDown",parseInt(d))})})})});(function(){function e(n){n==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.setAttribute("data-theme","dark")):(document.documentElement.classList.remove("dark"),document.documentElement.setAttribute("data-theme","light"))}const o=localStorage.getItem("sor3-theme");e(o||"light"),window.sor3Theme={set:function(n){localStorage.setItem("sor3-theme",n),localStorage.setItem("theme",n),e(n)},clear:function(){localStorage.removeItem("sor3-theme"),localStorage.removeItem("theme"),e("light")}}})();const P="modulepreload",S=function(e){return"/build/"+e},h={},m=function(o,n,a){let u=Promise.resolve();if(n&&n.length>0){let i=function(s){return Promise.all(s.map(t=>Promise.resolve(t).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),w=d?.nonce||d?.getAttribute("nonce");u=i(n.map(s=>{if(s=S(s),s in h)return;h[s]=!0;const t=s.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const c=document.createElement("link");if(c.rel=t?"stylesheet":P,t||(c.as="script"),c.crossOrigin="",c.href=s,w&&c.setAttribute("nonce",w),document.head.appendChild(c),t)return new Promise((p,f)=>{c.addEventListener("load",p),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})}))}function l(i){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=i,window.dispatchEvent(d),!d.defaultPrevented)throw i}return u.then(i=>{for(const d of i||[])d.status==="rejected"&&l(d.reason);return o().catch(l)})};function A(e){return document.querySelector(e)}async function b(){const e=A("[data-bprafa-calendar]");if(!e)return;const o=e.getAttribute("data-feed-url"),n=e.getAttribute("data-create-note-url"),a=e.getAttribute("data-create-event-url");await m(()=>import("./vdom.DuX097KQ.js"),__vite__mapDeps([0,1]));const{Calendar:u}=await m(async()=>{const{Calendar:t}=await import("./main.CY826GJt.js");return{Calendar:t}},__vite__mapDeps([2,0,1,3,4]));await m(()=>import("./pl.CVZQjVtV.js").then(t=>t.p),[]);const l=(await m(async()=>{const{default:t}=await import("./main.EL4LX8CA.js");return{default:t}},__vite__mapDeps([5,3,1,4,6]))).default,i=(await m(async()=>{const{default:t}=await import("./main.CtFRknBY.js");return{default:t}},__vite__mapDeps([7,3,1,4,5,6,8]))).default,d=(await m(async()=>{const{default:t}=await import("./main.C0PruKEJ.js");return{default:t}},__vite__mapDeps([9,3,1,4]))).default,w=(await m(async()=>{const{default:t}=await import("./main.uHczVoXp.js");return{default:t}},__vite__mapDeps([10,3,1,4,11]))).default;await m(()=>Promise.resolve({}),__vite__mapDeps([4])),await m(()=>Promise.resolve({}),__vite__mapDeps([6])),await m(()=>Promise.resolve({}),__vite__mapDeps([8])),await m(()=>Promise.resolve({}),__vite__mapDeps([11]));const s=new u(e,{plugins:[l,i,d,w],initialView:"dayGridMonth",height:"auto",nowIndicator:!0,selectable:!0,editable:!1,dayMaxEvents:!0,firstDay:1,locale:"pl",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},buttonText:{today:"Dziś",month:"Miesiąc",week:"7 dni",day:"Dzień",list:"Lista"},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},events:async(t,r,c)=>{try{const p=new URL(o,window.location.origin);p.searchParams.set("start",t.startStr),p.searchParams.set("end",t.endStr);const f=await fetch(p.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!f.ok)throw new Error(`Feed error: ${f.status}`);const v=await f.json();r(v)}catch(p){console.error(p),c(p)}},eventClick:t=>{const r=t.event.url;r&&(t.jsEvent.preventDefault(),window.location.href=r)},select:t=>{if(a){const r=new URL(a,window.location.origin);r.searchParams.set("start_date",t.startStr);const c=t.end?new Date(t.end.getTime()-864e5):null;c&&r.searchParams.set("end_date",c.toISOString().slice(0,10)),window.open(r.toString(),"_blank")}},dateClick:t=>{if(n){const r=new URL(n,window.location.origin);r.searchParams.set("date",t.dateStr),window.open(r.toString(),"_blank")}},customButtons:{createEvent:{text:"Nowa impreza",click:()=>{a&&window.open(a,"_blank")}},createNote:{text:"Nowa notatka",click:()=>{n&&window.open(n,"_blank")}}}});s.setOption("headerToolbar",{left:"prev,next today createEvent,createNote",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"}),s.render()}document.addEventListener("DOMContentLoaded",()=>{b()});function _(){const e=document.getElementById("cookie-manage");if(e){if(e.parentElement!==document.body)try{document.body.appendChild(e)}catch{}e.style.setProperty("position","fixed","important"),e.style.setProperty("right","16px","important"),e.style.setProperty("bottom","84px","important"),e.style.setProperty("z-index","2147483647","important"),e.style.setProperty("white-space","normal","important"),e.style.setProperty("min-width","0","important")}}function L(){const e=document.querySelectorAll(".scroll-top");if(!(e.length<=1))for(let o=0;o<e.length-1;o++){const n=e[o];n&&n.parentNode&&n.parentNode.removeChild(n)}}function I(e,o=150){let n;return function(...a){clearTimeout(n),n=setTimeout(()=>e.apply(this,a),o)}}document.addEventListener("DOMContentLoaded",()=>{_(),L()});window.addEventListener("load",_);window.addEventListener("resize",I(_,150));window.initProgramPointTreeDnD=E;
